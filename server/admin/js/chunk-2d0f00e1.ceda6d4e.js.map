{"version":3,"sources":["webpack:///./src/views/comment/EditorComment.vue?621b","webpack:///src/views/comment/EditorComment.vue","webpack:///./src/views/comment/EditorComment.vue?8de9","webpack:///./src/views/comment/EditorComment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","form","on","$event","preventDefault","onSubmit","apply","arguments","_v","staticRenderFns","data","editor","content","methods","InitData","$route","params","InitEditor","highlight","config","zIndex","onchangeTimeout","create","onchange","txt","html","created","mounted","beforeDestroy","destroy","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,IAAI,OAAOC,MAAM,CAAC,MAAQP,EAAIQ,KAAK,KAAO,SAAS,cAAc,SAAS,CAACJ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,cAAcH,EAAG,eAAe,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,SAAS,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,SAASC,MAAM,KAAMC,cAAc,CAACd,EAAIe,GAAG,aAAa,IAAI,IACldC,EAAkB,G,kECctB,GACEC,KADF,WAEI,MAAO,CACLC,OAAQ,KACRV,KAAM,CACJW,QAAS,MAIfC,QAAS,CACPC,SADJ,WAEMpB,KAAKO,KAAK,WAAaP,KAAKqB,OAAOC,OAAO,YAE5CC,WAJJ,WAIA,WACA,qBACMN,EAAOO,UAAY,EAAzB,EACMP,EAAOQ,OAAOC,OAAS,EACvBT,EAAOQ,OAAOE,gBAAkB,IAChCV,EAAOW,SAEPX,EAAOQ,OAAOI,SAAW,SAA/B,GACQ,EAAR,gBAGMZ,EAAOa,IAAIC,KAAK/B,KAAKO,KAAKW,SAC1BlB,KAAKiB,OAASA,GAEhB,SAlBJ,WAkBA,2JACA,oBADA,gCAGA,kEAHA,OAIA,8BAEA,+BANA,sBAQA,gCARA,+CAaEe,QAxCF,WAyCIhC,KAAKoB,YAEPa,QA3CF,WA4CIjC,KAAKuB,cAEPW,cA9CF,WAgDIlC,KAAKiB,OAAOkB,UACZnC,KAAKiB,OAAS,OChEoV,I,YCOlWmB,EAAY,eACd,EACAtC,EACAiB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/chunk-2d0f00e1.ceda6d4e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"size\":\"medium\",\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"说说内容\"}},[_c('div',{attrs:{\"id\":\"editor\"}})]),_c('el-form-item',[_c('button',{attrs:{\"id\":\"button\",\"type\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_vm._v(\"立即修改\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form ref=\"form\" :model=\"form\" size=\"medium\" label-width=\"auto\">\r\n      <el-form-item label=\"说说内容\">\r\n        <div id=\"editor\"></div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <button id=\"button\" type=\"primary\" @click.prevent=\"onSubmit\">立即修改</button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport E from \"wangeditor\";\r\nimport hljs from \"highlight.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      form: {\r\n        content: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    InitData() {\r\n      this.form[\"content\"] = this.$route.params[\"content\"];\r\n    },\r\n    InitEditor() {\r\n      const editor = new E(\"#editor\");\r\n      editor.highlight = hljs;\r\n      editor.config.zIndex = 0;\r\n      editor.config.onchangeTimeout = 700; // 修改为 500ms\r\n      editor.create();\r\n      // 配置 onchange 回调函数，将数据同步到 vue 中\r\n      editor.config.onchange = (newHtml) => {\r\n        this.form.content = newHtml;\r\n      };\r\n      //将原内容添加到编辑器中\r\n      editor.txt.html(this.form.content);\r\n      this.editor = editor;\r\n    },\r\n    async onSubmit() {\r\n      if (this.form.content !== \"\") {\r\n        //添加说说\r\n        await this.$http.put(\"/comment\", this.form,{params:{_id:this.$route.params._id}});\r\n        this.$message.success(\"说说修改成功！\");\r\n        //跳转到文章列表页面\r\n        this.$router.push(\"/commentList\");\r\n      } else {\r\n        this.$message.error(\"表格不能为空，请检查！\");\r\n      }\r\n    },\r\n    \r\n  },\r\n  created() {\r\n    this.InitData();\r\n  },\r\n  mounted() {\r\n    this.InitEditor();\r\n  },\r\n  beforeDestroy() {\r\n    // 调用销毁 API 对当前编辑器实例进行销毁\r\n    this.editor.destroy();\r\n    this.editor = null;\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorComment.vue?vue&type=template&id=7583e385&\"\nimport script from \"./EditorComment.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorComment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}